<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>DungeonGenocide</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script>
        let app;
        let player;
        let keys = {};

        window.onload = () => {

            //Map
            app = new PIXI.Application(
                {
                    width: 800, 
                    height: 600,
                    backgroundColor: 0x5a2d0c,
                }
            );

            document.body.appendChild(app.view);

            //Player
            player = new PIXI.Sprite.from("img/SquareLink.png");
            player.anchor.set(0.5);
            player.x = app.view.width /2;
            player.y = app.view.height / 2;

            app.stage.addChild(player);

            //Keyboard event handlers
            window.addEventListener('keydown', keysDown);
            window.addEventListener('keyup', keysUp);

            app.ticker.add(gameLoop);
        }

        keysDown = (e) => {
            keys[e.keyCode] = true;
        }

        keysUp = (e) => {
            keys[e.keyCode] = false;
        }

        gameLoop = () => {
            if (keys['90'] || keys['87']) {
                player.y -= 5;
            }
            if (keys['83']) {
                player.y += 5;
            }
            if (keys['81'] || keys['65']) {
                player.x -= 5;
            }
            if (keys['68']) {
                player.x += 5;
            }
        }
    </script>
</head>
<body>
    <p>Use ZQSD or WASD to move the character.</p>
</body>
</html>
